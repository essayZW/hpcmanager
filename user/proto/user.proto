syntax = "proto3";

option go_package = "github.com/essayZW/hpcmanager/user/proto;user";

import "proto/ping.proto";
import "proto/common.proto";
import "proto/public.proto";

service User {
    rpc Ping(publicproto.Empty) returns (publicproto.PingResponse) {}
    rpc Login(LoginRequest) returns (LoginResponse) {}
    rpc CheckLogin(CheckLoginRequest) returns (CheckLoginResponse) {}
}

message LoginRequest {
    string username = 1;
    string password = 2;
}

message LoginResponse {
    string token = 1;
    user.UserInfo userInfo = 2;
}


message CheckLoginRequest {
    string token = 1;
}


message CheckLoginResponse {
    bool login = 1;
    user.UserInfo userInfo = 2;
    repeated int32 permissionLevel = 3;
}
